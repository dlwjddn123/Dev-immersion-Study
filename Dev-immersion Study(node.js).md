# Node.js

## 목차
+ #### 1. node.js란 무엇인가?
+ #### 2. npm(yarn)이란 무엇인가?
+ #### 3. 정적 타입 언어 vs 동적 타입 언어
+ #### 4. 라이브러리와 프레임워크의 차이
+ #### 5. REST API란 무엇인가?
+ #### 6. Node.js BE또는 FE 라이브러리/프레임워크에 대해서 알아보고 비교해보기
--------
# Node.js란 무엇인가?

Node.js는 Chrome V8 javascript 엔진으로 빌드된 javascript 런타임이다.**(Node 공식 사이트에서 내린 Node.js의 정의)**<br>
예전 javascript는 **런타임**이 브라우저 밖에 존재하지 않았지만 V8엔진을 이용한 크롬이 출시되면서 V8엔진을 기반으로 한
Node.js라는 새로운 런타임이 출시되었다. **(여기서 런타임은 특정 언어로 만든 프로그램들을 실행할 수 있는 환경을 뜻한다)**<br>
이는 쉽게 말해서 자바스크립트 프로그램을 브라우저가 아닌 컴퓨터에서 실행할 수 있게 된 것이다.<br>
<br>

+ ## 이벤트 기반

<pre>
 <code>
노드는 V8과 더불어 libuv라는 라이브러리를 사용하는데 이는 노드의 특성인 이벤트 기반, 논 블로킹 I/O 모델을 구현하고 있다.<br>
이벤트 기반이란 이벤트가 발생할 때 미리 지정해둔 작업을 수행하는 방식을 의미한다.<br>
즉 이벤트 기반 시스템에서는 특정 이벤스가 발생할 때 무엇을 할지 미리 등록해두고, 이를 이벤트 리스너의 콜백 함수로 등록한다..<br>
이후 이벤트가 발생하면 리스너에 등록해둔 콜백 함수가 호출되며 이벤트가 끝난 후 노드는 다음 이벤트가 발생할 때 까지 대기한다. 
 </code>
</pre>
<br>

+ ## 이벤트 루프

<pre>
 <code>
이벤트 루프(event loop)는 여러 이벤트가 동시에 발생했을 때 어떤 순서로 콜백 함수를 호출할지를 이벤트 루프가 판단한다. <br>
노드는 이벤트가 종료될 때까지 이벤트 처리를 위한 작업을 반복 하므로 루프(loop)라고 부른다.<br>
 </code>
</pre>
<br>
<img src="https://media.vlpt.us/images/kimkevin90/post/b5338968-d88a-40ca-a3db-e0c923cbbfb9/%EB%A3%A8%ED%94%84.png">


+ ## 논 블로킹 I/O

<pre>
 <code>
이벤트 루프를 잘 활용하면 오래 걸리는 작업을 효율적으로 처리할 수 있다.<br>
작업에는 두가지 종류가 있는데, 동시에 실행될 수 있는 작업과 동시에 실행될 수 없는 작업이다.<br>
특히 파일 시스템 접근, 네트워크를 통한 요청 작업은 I/O의 일종이며 이러한 작업을 할 때 노드는 논 브로킹 방식으로 처리한다.<br>
논 블로킹이란 이전 작업이 완료될 때까지 대기하지 않고 다음 작업을 수행하는 것을 의미한다.<br>
반대로 블로킹은 이전 작업이 끝나야만 다음 작업을 수행한다.<br>
 </code>
</pre>


+ ## 싱글 스레드

<pre>
 <code>
이벤트 기반, 논 블로킹 모델과 더불어 노드를 설명하는 키워드 중 하나는 싱글 스레드이다.<br> 
자바스크립트 코드는 동시에 실행될 수 없는데 그 이유는 노드가 싱글 스레드 기반이기 때문이다.<br>
프로세스 : 운영체제에서 할당하는 작업의 단위. <br>
노드나 웹 브라우저 같은 프로그램은 개별적인 프로세스이며 프로세스 간에는 메모리 등의 자원을 공유하지 않는다.
스레드 : 스레드는 프로세스 내에서 실행되는 흐름의 단위.<br>
프로세스는 스레드를 여러 개 생성해 여러 작업을 동시에 처리할 수 있으며 스레드들은 부모 프로세스의 자원을 공유한다.<br>
같은 주소의 메모리에 접근 가능하므로 데이터를 공유할 수도있다.<br>
노드는 싱글스레드, 논 블로킹 모델로, 싱글 스레드가 혼자서 일을 처리하지만<br>
들어온 요청 순서가 아닌 논블로킹 방식으로 이전 작업이 완료될 때까지 대기하지 않고 다음 작업을 수행한다.
 </code>
</pre>


+ ## 결론

<pre>
 <code>
노드는 기본적으로 싱글 스레드, 논 블로킹 모델을 채용하므로 I/O 요청이 많이 발생하면 노드를 서버로 사용하는 것이 좋지만<br>
노드는 CPU 부하가 큰 작업에는 적합하지 않다.<br>
우리가 작성하는 코드는 모두 스레드 하나에서 처리되기 때문에 코드가 CPU연산을 많이 요구하면 스레드 하나가 혼자서 감당하기 어렵다.<br>
즉, 개수는 많지만 크기는 작은 데이터를 실시간으로 주고받는데 노드는 적합하다.<br>
예를 들면 네트워크나 데이터베이스, 디스크 작업은 I/O에 특화되어 있디.<br>
실시간 채팅 애플리케이션, 주식 차트도 포함.<br>
결론적으로 노드의 장점은 첫째, 멀티 스레드 방식에 비해 적은 컴퓨터 자원을 사용한다.<br>
둘째, I/O작업이 많은 서버로 적합하다.<br>
셋째, 웹 서버가 내장되어 있어 별도의 웹서버를 설치할 필요가 없다.<br>
넷째, 자바스크립트를 사용하기 때문에 JSON 형식과 쉽게 호환된다.
 </code>
</pre>

-------

# npm이란 무엇인가?
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Npm-logo.svg/1200px-Npm-logo.svg.png" width="50%"> <br>
+ ## npm

<pre>
 <code>
npm (노드 패키지 매니저/Node Package Manager)은 자바스크립트 프로그래밍 언어를 위한 패키지 관리자이다.<br>
자바스크립트 런타임 환경 Node.js의 기본 패키지 관리자이다.<br>
명령 줄 클라이언트(npm), 그리고 공개 패키지와 지불 방식의 개인 패키지의 온라인 데이터베이스(npm 레지스트리)로 이루어져 있다.<br>
이 레지스트리는 클라이언트를 통해 접근되며 사용 가능한 패키지들은 npm 웹사이트를 통해 찾아보고 검색할 수 있다.<br>
패키지 관리자와 레지스트리는 npm사에 의해 관리된다.<br>
 </code>
</pre>

+ ## package.json

<pre>
 <code>
package.json은 NPM을 위한 각종 정보들을 저장해놓은 파일이다

NPM을 통해 모듈을 설치할 수 있는데 이 모듈들을 관리해주는 파일이 package.json이다.
{
  "name": "PassportExample",
  "version": "0.0.1",
  "private": true,
  "scripts": {
    "start": "node app.js"
  },
  "dependencies": {
    "body-parser": "^1.18.3",
  }
}
package.json 파일 예시이다

package.json 의 요소에 대해 알아보자.

-name : 프로젝트 명을 기입한다.

-version : 진행중인 프로젝트의 버전을 기입한다. enter를 입력할 경우 자동으로 기입된다.

-description : 위의 코드에는 없지만 프로젝트에 대한 설명을 기술한다.

-scripts : npm [script] 명령어를 통하여 실행할 수 있는 요소들을 의미한다.

-dependencies : 사용할 모듈을 dependencies 객체에 추가한다.
 </code>
</pre>
-----------

# 정적 타입 언어 vs 동적 타입 언어

+ ## 정적 타입 언어

<pre>
 <code>
먼저, 변수의  타입이란 int, short, float, String, 객체와 같은 자료형을 뜻한다.
정적타입 언어란?

정적타입 언어(Statically typed language)는 컴파일 시 변수의 타입이 결정되는 언어를 말한다.
따라서, 프로그래머가 변수에 들어갈 값의 형태에 따라 직접 변수의 타입을 명시해줘야 한다.
ex) {
  String name ="tuna"
  int num = 123
}
정적언어라는 것은 위에서 언급한 '타입' 즉 자료형을 컴파일 시에 결정하는 것 이다. 
컴파일 시에 자료형에 맞지 않는 값이 들어있으면 컴파일 에러가 발생한다..

정적타입의 언어로는 Java, C, C++, C#, Scala,  Fortran, Haskell, ML, Pascal 등이 있다.

장점 : 타입 에러로 인한 문제점을 초기에 발견할 수 있어 타입의 안정성이 높음
       컴파일 시에 미리 타입을 결정하기 때문에 실행속도가 빠름
단점 : 매번 코드 작성시 변수형을 결정해줘야 하는 번거로움이 있음
 </code>
</pre>

+ ## 동적 타입 언어

<pre>
 <code>
동적타입 언어란?

동적타입 언어(Dynamically typed languages)는 컴파일 시 자료형을 정하는 것이 아니라 런타임 시 결정된다.
다음과 같이 타입 없이 변수만 선언하여 값을 지정할 수 있다.

def num = 123
num = "일이삼"

위의 예시에서 타입 선언이 없었지만,  num이 123 이란 숫자로 선언이 된다.
두 번째 줄에 num을 String으로 다시 선언하더라도 타입 에러 없이 컴파일 된다.

동적타입 언어로는 Groovy, Python, JavaScript, Ruby, Smalltalk, Lisp, Objective-C, PHP, Prolog 등이 있다.

장점 :
런타임까지 타입에 대한 결정을 끌고 갈 수 있기 때문에 유연성이 높음
컴파일시 타입을 명시해주지 않아도 되기 때문에 빠르게 코드를 작성할 수 있음
 
단점 :
실행 도중에 변수에 예상치 못한 타입이 들어와 타입에러가 발생할 수 있음
동적타입 언어는 런타임 시 확인할 수 밖에 없기 때문에, 코드가 길고 복잡해질 경우 타입 에러를 찾기가 어려워짐.

이러한 불편함을 해소하기 위해 TypeScipt나 Flow 등을 사용할 수 있다.
 </code>
</pre>

-----------------------
# 라이브러리와 프레임워크의 차이

+ ## Framework(프레임워크)
<pre>
<code>
 프레임워크는 뼈대나 기반구조를 뜻하는데, 
 pplication 개발 시 필수적인 코드, 알고리즘, 데이터베이스 연동 등과 같은 기능들을 위해 어느정도 뼈대(구조)를 제공해주는 것이다.
그러므로 그러한 뼈대 위에 프로그래머가 코드를 작성하여 Application을 완성시켜야 한다.
어느정도 뼈대를 제공해 주기 때문에, 객체 지향 개발을 하면서 일관성 부족 등의 문제를 해결해 준다. 

그래서 소프트웨어에서는 프레임워크를 "소프트웨어의 특정 문제를 해결하기 위해서 상호 협력하는 클래스와 인터페이스의 집합"
이라고 정의하기도 한다.
</pre>
</code>


+ ## Library(라이브러리)
<pre>
<code>
Library는 특정 기능에 대한 도구나 함수들을 모은 집합이다.
즉, 프로그래머가 개발하는데 필요한 것들을 모아둔 것이다.

Library는 "단순 활용이 가능한 도구들의 집합"이라고 간단하게 정의할 수 있다.
</pre>
</code>


# 프레임워크와 라이브러리의 차이 - Inversion Of Control

<img src="https://t1.daumcdn.net/cfile/tistory/99F18D3359FB4E2F0C">

<pre>
<code>
Framework와 Library의 차이는 Flow(흐름)에 대한 제어 권한이 어디에 있느냐의 차이이다.
프레임워크는 전체적인 흐름을 자체적으로 가지고 있으며,
프로그래머가 그 안에 필요한 코드를 작성하는 반면에 라이브러리는 사용자가 흐름에 대해 제어를 하며 필요한 상황에 가져다 쓰는 것이다. 
이 내용을 한 문장으로 정리하자면 프레임워크에는 제어의 역전(Inversion Of Control)이 적용되어있다는 것이다.

제어의 역전(Inversion Of Control)이란 어떠한 일을 하도록 만들어진 프레임워크에
제어의 권한을 넘김으로써 클라이언트 코드가 신경서야 할 것을 줄이는 전략이다.
일반적으로 우리는 프로젝트를 생성하고 Main함수를 만들어서 시작지점을 형성한다.
그리고 Main 함수에서 프로그램의 흐름을 정하는 것은 프로그래머의 몫으로
우리가 어떠한 순서를 부여하느냐에 따라서 흐름을 제어하는 것이 일반적인 사고이다. 

하지만 여기서 프레임워크는 일반적인 사고와 반대되는 모습을 보여주는데
실행의 흐름을 프레임워크 자체가 가지고 있어서 우리의 코드를 프레임워크안에 넣어서 개발을 진행해야 한다.
실제로 Maven과 같은 프레임워크의 프로젝트를 생성해보면 어느정도 뼈대를 만들어서 그 안에 필요에 따라 우리의 코드를 넣는다.
일반적으로 프로그래머가 가지고 있어야하는 제어의 권한을 프레임워크에게 주었기 때문에 우리는 이를 제어의 역전이라고 말한다.
</pre>
</code>



# Rest API란 무엇인가?

+ ## REST란?
<pre>
<code>
REST(REpresentational State Transfer)란, “웹에 존재하는 모든 자원(이미지, 동영상, DB 자원)에
고유한 URI를 부여해 활용” 하는 것으로, 자원을 정의하고 자원에 대한 주소를 지정하는 방법론을 의미한다고 한다.
이런 REST의 형식을 따른 시스템을 RESTful 이라고 부른다. 쉽게 말해 컴퓨터 시스템들의 대화법이다.
</pre>
</code>


+ ## REST API란?
<pre>
<code>
HTTP URI를 통해 자원을 명시하고, HTTP Method를 통해 해당 자원에 대한CRUD Operation을 적용한다.
</pre>
</code>
HTTP Method, CRUD Operation.
<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcDWqJe%2FbtqJMwgeMhG%2FR14H2KkFyGPZm2RKd0Gtr0%2Fimg.png">

          


+ ## REST 구성요소
<pre>
<code>
1. 자원 (Resource), URI

  모든 자원은 고유한 ID를 가지며, 이는 서버에 저장되어 있다.
  클라이언트는 자원의 상태를 조작하기 위해 요청을 보낸다.
  HTTP에서 이러한 자원을 구별하는 ID는 'Users/1' 같은 HTTP URI이다.
  
2. 행위 (Verb), Method

  클라이언트는 URI를 이용해 자원을 지정하고 자원을 조작하기 위해
  HTTP Method를 사용한다. 대표적으로 GET, POST, PUT, DELETE 메소드들이 있다.
  
3. 표현 (Representation)

  클라이언트가 서버로 요청을 보냈을 때 서버가 응답으로 보내주는 자원의 상태를 Representation이라고
  한다. 자원의 형태는 JSON, XML, Text, RSS 등 여러형태로 나타낸다.
</pre>
</code>


+ ## REST의 특징?
<pre>
<code>
1. 클라이언트 - 서버 구조 

  자원을 요청하는 Client, 자원이 있는 Server 구조를 갖는다.
  
2. 무상태 (Stateless)

  HTTP는 Stateless 프로토콜이므로, REST 역시 무상태성을 따른다.
  즉, 서버는 클라이언트의 Context를 저장하지 않는다.

3. 캐시 처리 가능 (Cacheable)

  웹 표준 HTTP 프로토콜 기반이므로, 웹에서 사용하는 기존의 인프라를 그대로 활용한다.

4. 계층화

  API서버는 순수 비지니스 로직을 수행하고 그 앞단에 사용자 인증, 암호화, 로드밸런싱 등을
  하는 계층을 추가하여 구조상의 유연성을 줄 수 있다.

5. 인터페이스 일관성 (Uniform Interface)

  URI로 지정한 자원에 대한 조작을 통일되고 한정적인 인터페이스로 수행한다.
  HTTP 표준에만 따른다면 모든 플랫폼에서 사용가능하다.

6. 자체 표현 구조

  동사 (Method) + 명사(URI) 로 이루어져 있어 어떤 메소드에 무슨 행위를 하는지 알 수 있다.
  즉 REST API 메세지 자체만으로도 API를 파악할 수 있다.
  

</pre>
</code>


# Node.js BE Framework

## 1. Express

<pre>
<code>
Express는 웹 및 모바일 어플리케이션 개발을 위한 강력한 기능 모음을 제공하는
인기있고 빠르며, 최소한의 유연한 MVC(Model-View-Controller)Node.js 프레임 워크이다.

기존 Node.js 기능에 추가되는 얇은 기본 웹 어플리케이션 기능을 제공하는 라우팅 라이브러리 세트이다.
고성능에 중점을 두고 강력한 라우팅과 HTTP 도우미(리디렉션, 캐싱 등)를 지원하고,
14개 이상의 템플릿 엔진, 컨텐츠 협상 및 응용 프로그램을 빠르게 생성하기 위한
실행 파일을 지원하는 뷰 시스템이 제공된다.

또한 Express에는 사용하기 쉬운 많은 HTTP유틸리티 메소드, 함수 및 미들웨어가 제공되므로,
개발자가 강력한 API를 쉽고 빠르게 작성할 수 있다.
</pre>
</code>


## 2. Nest.js

<pre>
<code>
Nest.js는 효율적이고 안정적이며, 확장 가능한 서버 측 어플리케이션을 구축하기 위한
유연하고 다재다능하며 진보적인 Node.js REST API프레임 워크이다.
최신 JavaScript를 사용하며 TypeScript로 빌드 된다.
OOP(Object Oriented Programming), FP(Fuctional Programming), 
FRP(Fuctional Reactive Programming)의 요소를 결합한다.
</pre>
</code>

## 3. Sails.js

<pre>
<code>
Sails.js는 Express에 구축된 Node.js를 위한 실시간 MVC 웹 개발 프레임 워크이다.
MVC아키텍처는 Ruby on Rails와 같은 프레임 워크와 유사하지만 보다 최신의 데이터 중심 스타일의
웹 앱 및 API 개발을 지원한다는 점에서 다르다.
</pre>
</code>

## 4. Koa.js

<pre>
<code>
Koa.js는 Express 개발자가 구축한 새로운 웹 프레임 워크이며, ES2017 비동기 기능을 사용한다.
콜백 지옥의 앱을 제거하고 오류 처리를 단순하하기 위해 약속 및 비동기 기능을 사용한다.
</pre>
</code>


